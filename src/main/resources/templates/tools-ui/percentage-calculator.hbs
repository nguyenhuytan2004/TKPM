<div class="w-full max-w-2xl mx-auto mt-12 p-6 bg-gray-900 text-white rounded-lg shadow-md">
    <h1 class="text-3xl font-bold text-white mb-2">Percentage calculator</h1>
    <p class="text-gray-400 mb-6">Easily calculate percentages from a value to another value, or from a percentage to a value.</p>

    <!-- What is X% of Y -->
    <div class="bg-gray-800 p-4 rounded-md mb-4">
        <p class="text-sm text-gray-300 mb-2">What is</p>
        <div class="flex items-center space-x-2">
            <input type="number" id="percentValue" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center" value="12">
            <span class="w-24 text-center">% of</span>
            <input type="number" id="percentBase" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center" value="21">
            <span>=</span>
            <span id="percentResult" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center">0</span>
        </div>
    </div>

    <!-- X is what percent of Y -->
    <div class="bg-gray-800 p-4 rounded-md mb-4">
        <p class="text-sm text-gray-300 mb-2">X is what percent of Y</p>
        <div class="flex items-center space-x-2">
            <input type="number" id="valueX" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center" value="24">
            <span class="w-24 text-center">is what percent of</span>
            <input type="number" id="valueY" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center" value="12">
            <span>=</span>
            <span id="percentOfResult" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center">0</span>
        </div>
    </div>

    <!-- Percentage increase/decrease -->
    <div class="bg-gray-800 p-4 rounded-md">
        <p class="text-sm text-gray-300 mb-2">What is the percentage increase/decrease</p>
        <div class="flex items-center space-x-2">
            <input type="number" id="initialValue" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center" value="5">
            <span class="w-24 text-center">to</span>
            <input type="number" id="finalValue" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center" value="0">
            <span>=</span>
            <span id="increaseResult" class="w-24 p-2 bg-gray-700 text-white rounded-md text-center">0</span>
        </div>
    </div>
</div>

<script>
    function calculatePercentage() {
        let percentValue = parseFloat(document.getElementById("percentValue").value);
        let percentBase = parseFloat(document.getElementById("percentBase").value);
        document.getElementById("percentResult").textContent = (percentValue / 100 * percentBase).toFixed(2);
    }

    function calculatePercentOf() {
        let valueX = parseFloat(document.getElementById("valueX").value);
        let valueY = parseFloat(document.getElementById("valueY").value);
        document.getElementById("percentOfResult").textContent = ((valueX / valueY) * 100).toFixed(2);
    }

    function calculateIncreaseDecrease() {
        let initialValue = parseFloat(document.getElementById("initialValue").value);
        let finalValue = parseFloat(document.getElementById("finalValue").value);
        let percentageChange = ((finalValue - initialValue) / initialValue) * 100;
        document.getElementById("increaseResult").textContent = isFinite(percentageChange) ? percentageChange.toFixed(2) : "NaN";
    }

    document.querySelectorAll("input").forEach(input => {
        input.addEventListener("input", () => {
            calculatePercentage();
            calculatePercentOf();
            calculateIncreaseDecrease();
        });
    });

    calculatePercentage();
    calculatePercentOf();
    calculateIncreaseDecrease();
</script>
